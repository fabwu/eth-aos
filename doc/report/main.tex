\documentclass[11pt,a4paper]{report}

\usepackage[english]{babel}

\usepackage[hidelinks]{hyperref}
\hypersetup{
	pdftitle={Advanced Operating Systems - Report},
	pdfauthor={
		Fabian Wüthrich, 
		Janis Peyer, 
		Kristina Martšenko,
		Phillipe Mazenauer
	} 
}

\usepackage{csquotes}
\usepackage{biblatex}
\addbibresource{main.bib}

\begin{document}

\title{Advanced Operating Systems - Report}
\author{
Fabian Wüthrich
\and
Janis Peyer 
\and
Kristina Martšenko
\and
Phillipe Mazenauer
}
\date{Spring 2020}

\maketitle

\tableofcontents

\listoffigures

\listoftables

\clearpage

\chapter{Memory management and capabilities}

123 \cite{aos-book}

\chapter{Processes, threads, and dispatch}

TODO: Reason about why we don't handle unaligned addresses in paging. (We want the client to actively think about what they actually map.)

TODO: Explain the changes in the paging interface to the given interface

TODO: Maybe document our difficulties that address to params has to be passed in x0 register

\chapter{Message passing}

\section{channel setup init <-> child}

\begin{enumerate}
    \item in \verb|create_child_channel| (spawn.c) register
    \verb|recv_setup_closure| from init
    (used to receive initial ep from child)

    \item in init.c (called before each thread): 
        \begin{itemize}
            \item create child endpoint i.e channel for this child (we are already in child)
            \item register \verb|receive_init_closure| (used to save ep received from init)
            \item send child ep to init and wait until
            \verb|receive_init_closure| get called
        \end{itemize}
    \item \verb|recv_setup_closure| gets called:
        \begin{itemize} 
            \item save child ep in init channel struct (\verb|lmp_chan|)
            \item send message to child that channel is ready (in
            \verb|rpc_send_setup_closure|
        \end{itemize}
    \item \verb|barrelfish_recv_init_closure| gets called on the child side
        \begin{itemize}
            \item child is now ready to communicate with init
            \item on child side continue after recv init success
            \item init is now dispatching events in \verb|recv_regular_closure|
        \end{itemize}
\end{enumerate}

\chapter{Page fault handling}


\input{milestone5}

\chapter{User-level message passing}

\chapter{Individual Project 1}

\chapter{Individual Project 2}

\chapter{Individual Project 3}

\chapter{Individual Project 4}

\chapter{Summary of overall system}

\appendix

\chapter{User guide}

\printbibliography

\end{document}
